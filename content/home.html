<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ribbit</title>
<link rel="icon" type="image/png" sizes="16x16" href="/img/frog.png">
<link rel="stylesheet" href="/content/style.css">
<style>
.like-btn {
  color: #e74c3c;
  font-size: 1rem;
  cursor: pointer;
}
.like-btn:hover {
  transform: scale(1.1);
}

.comment-input {
  margin-top: 6px;
  font-size: 0.75rem;
  font-family: 'Fredoka', sans-serif;
  padding: 7px;
  border: 2px solid green;
  background-color: #f0fff0;
  width: 30%;
}

.comments p {
  font-size: 0.7rem;
  color: #2b2b2b;
  margin: 4px 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.popup {
  position: fixed;
  font-family: 'Silkscreen', sans-serif;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}
.popup.hidden { display: none; }
.popup-content {
  background: #f9fff9;
  border: 6px solid green;
  width: 400px;
  padding: 25px;
  text-align: center;
  color: green;
  font-family: 'Silkscreen', sans-serif;
}
.popup-content input[type="text"], 
.popup-content input[type="number"], 
.popup-content input[type="file"], 
.popup-content select {
  display: block;
  width: 85%;
  margin: 10px auto;
  padding: 8px;
  font-family: inherit;
  font-size: 0.7rem;
  border: 2px solid green;
  background-color: #f0fff0;
  color: green;
}
.popup-content button {
  margin-top: 15px;
  padding: 10px;
  font-family: inherit;
  font-size: 0.8rem;
  background-color: #2ecc71;
  color: #fff;
  border: none;
  cursor: pointer;
}
.popup-content button:hover { background-color: #27ae60; }
.popup-content .error { color: red; font-size: 0.6rem; margin-top: 8px; }

.post-img, .profile-img {
  max-width: 150px;
  max-height: 150px;
  margin-top: 5px;
}
.profile-img {
  width: 20px;
  height: 20px;
  margin-right: 8px;
  vertical-align: middle;
}

.post-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.post-label {
  font-size: 0.55rem;
  color: #27ae60;
  margin-bottom: 3px;
}

.right p {
  cursor: pointer;
  text-decoration: underline;
}
.right p:hover {
  color: #27ae60;
}

.post.public {
  background-color: #f9fff9;
  border: 2px solid #2ecc71;
  padding: 8px;
  margin-bottom: 8px;
  word-wrap: break-word;
  overflow-wrap: break-word;
}
.post.dm {
  border: 2px solid #2ecc71;
  padding: 8px;
  margin-bottom: 8px;
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 60%;
}
.dm-container {
  display: flex;
  flex-direction: column;
}
.dm-left {
  align-self: flex-start;
  background-color: #e9fbe9;
}
.dm-right {
  align-self: flex-end;
  max-width: 50%;
  background-color: #c6f7c3;
}
</style>
</head>
<body>

<div class="top-box">
  <p class="header">Ribbit - Chatting like the old days</p>
  <a href="/logout">Logout</a>
</div>

<div class="main-content">
  <div class="left">
    <h2>Friends <span id="friendCount">(0)</span></h2>
    <input type="text" id="friendSearch" placeholder="Search Ribbit Users ...">
    <ul id="searchResults"></ul>
    <ul id="friendsList"></ul>
  </div>

  <div class="middle">
    <h2 id="postsHeader">Recent Posts</h2>
    <div id="posts" class="dm-container"></div>

    <form id="postForm" class="post-form-inline" enctype="multipart/form-data">
      <input type="text" id="postInput" placeholder="Write a message..." required style="font-family: 'Fredoka', sans-serif;">
      <input type="file" id="postImage" accept="image/*" style="display:none;">
      <label for="postImage" class="image-icon">ðŸ“·</label>
      <button type="submit">Send</button>
    </form>
  </div>

  <div class="right">
    <h2>Navigate</h2>
    <p id="homeBtn" style="font-size: 0.83rem;">Home</p>
    <p id="exploreBtn" style="font-size: 0.83rem;">Explore</p>
    <p id="editProfileBtn" style="font-size: 0.83rem;">Profile</p>
    <p id="notificationsBtn" style="font-size: 0.83rem;">Notifications</p>
    <p id="PrivacyBtn" style="font-size: 0.83rem;">Privacy</p>
  </div>

  <div class="right-far">
    <img id="currentUserPic" src="/img/default.jpg" />
  </div>
</div>

<footer>Â© 2025 Ribbit</footer>

<div id="profilePopup" class="popup hidden">
  <div class="popup-content">
    <h2 style="text-decoration: underline;">Complete Your Profile</h2><br>
    <form id="profileForm" enctype="multipart/form-data">
      <label>Date Of Birth (MM/DD/YYYY):</label>
      <input type="text" id="dob" name="dob" placeholder="MM/DD/YYYY" required>

      <label>Bio:</label>
      <input type="text" id="bio" name="bio" maxlength="35" required>

      <label>Profile Picture:</label>
      <input type="file" id="profilePic" name="profilePic" accept="image/*">

      <button type="submit">Save Profile</button>
      <p id="profileError" class="error"></p>
    </form>
  </div>
</div>

<div id="editProfilePopup" class="popup hidden">
  <div class="popup-content">
    <h2>Edit Profile</h2>
    <form id="editProfileForm" enctype="multipart/form-data">
      <label>Bio (max 35 characters):</label>
      <input type="text" id="editBio" name="editBio" maxlength="35" required>

      <label>Profile Picture:</label>
      <input type="file" id="editProfilePic" name="editProfilePic" accept="image/*">

      <label>Relationship Status:</label>
      <select id="editRelationshipStatus" name="relationshipStatus">
        <option value="">Select</option>
        <option value="Single">Single</option>
        <option value="Relationship">Relationship</option>
        <option value="Married">Married</option>
      </select>

      <button type="submit">Save Changes</button>
      <p id="editProfileError" class="error"></p>
    </form>
  </div>
</div>

<div id="notificationsPopup" class="popup hidden">
  <div class="popup-content">
    <h2 style="text-decoration: underline;">Notification Settings</h2><br>
    <form id="notificationsForm">
      <label><input type="checkbox" name="emailMessages"> Receive emails from Ribbit when you receive a message?</label><br><br>
      <label><input type="checkbox" name="likeNotifications"> Receive notifications when a user likes your post?</label><br><br>
      <label><input type="checkbox" name="friendPostNotifications"> Receive notifications when your friend uploads a post?</label><br><br>
      <label><input type="checkbox" name="commentNotifications"> Receive notifications when someone comments on your post?</label><br><br>
      <button type="submit">Save Settings</button>
      <p id="notificationsError" class="error"></p>
    </form>
  </div>
</div>

<div id="privacyPopup" class="popup hidden">
  <div class="popup-content">
    <h2 style="text-decoration: underline;">Privacy Settings</h2><br>
    <form id="privacyForm">
      <label><input type="checkbox" id="showAge" checked> Show Age?</label><br><br>
      <label><input type="checkbox" id="showDOB" checked> Show Date of Birth?</label><br><br>
      <label><input type="checkbox" id="showRelationship" checked> Show Relationship Status?</label><br><br>
      <label><input type="checkbox" id="showLastLogin" checked> Show Last Logged In?</label><br><br>
      <label><input type="checkbox" id="showStatus" checked> Show Status?</label><br><br>
      <button type="submit">Save Privacy Settings</button>
    </form>
  </div>
</div>

<script src="/content/friends.js"></script>
<script src="/content/home.js"></script>
<script>
document.getElementById('homeBtn').addEventListener('click', () => { window.location.href = '/content/home.html'; });
document.getElementById('exploreBtn').addEventListener('click', () => { window.location.href = '/content/explore.html'; });
</script>
</body>
</html>

